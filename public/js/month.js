!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([,function(e,t,n){e.exports=n(4)},,,function(e,t,n){"use strict";n.r(t);!function(){var e=window.users,t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push("u"+s.id)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}for(var l=[],c=0;c<t.length;c++){var d=t[c];l.push(Array.from(document.querySelectorAll("."+d)))}var u=!1;function f(t){for(var n=0;n<e.length;n++)for(var r=0;r<l[n].length;r++)u?(l[n][r].removeAttribute("style"),l[n][r].innerHTML=e[n][t]):(l[n][r].style.width="35px",l[n][r].style.height="35px",l[n][r].style.textAlign="center",Number(e[n].has_image)?l[n][r].innerHTML='<img src="/img/'.concat(e[n].id,'.jpg" alt="').concat(e[n][t],'"/>'):l[n][r].innerHTML=e[n][t]);u=!u}window.innerWidth<880&&f("short_name"),window.addEventListener("resize",function(){window.innerWidth<880&&!u?f("short_name"):window.innerWidth>=880&&u&&f("name")})}(),function(){var e;function t(t){if(e||(e=this),this.classList.contains("clicked"))return this.classList.remove("clicked"),void(i.style.display="none");e.classList.remove("clicked"),e=this,this.classList.add("clicked"),i.style.display="flex";var n=this.parentNode.parentNode.getBoundingClientRect(),r=this.getBoundingClientRect().x,o=this.getBoundingClientRect().y,a=this.getBoundingClientRect().width,s=i.getBoundingClientRect().height,l=i.getBoundingClientRect().width,c=window.innerWidth,d=r-l/2+a/2,u=o-s-20+window.scrollY;i.style.left=d+l>c?n.left+n.width-l+"px":d<0?n.left+"px":d+"px",i.style.top=u+"px"}document.querySelectorAll(".day.current, .day.not-current").forEach(function(e){e.addEventListener("click",t)});var n,r,i=document.querySelector("#selector");function o(){if(n=this,"customday"===this.getAttribute("data-relation")){if(null===(r=prompt("Custom status:").replace(/\s/g,"").slice(0,3))||""===r)return}else r="objday"===this.getAttribute("data-relation")?"ОБ":"illday"===this.getAttribute("data-relation")?"Б":"";var t=new XMLHttpRequest;t.onload=a;var i=new RegExp("[\\d]+","gi"),o=e.id.match(i),s=o[0],l=o[1];t.open("POST","/months",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("X-CSRF-TOKEN",window.csrf_token),t.send("user_id=".concat(s,"&day_id=").concat(l,"&relation_type=").concat(this.getAttribute("data-relation"),"&payload=").concat(r))}function a(){var t;i.style.display="none",e.classList.remove("clicked");try{t=JSON.parse(this.responseText)[0]}catch(e){return console.error(e),void console.error(this.responseText)}var o=n.getAttribute("data-relation");1==t&&(e.classList.remove("halfday"),e.classList.remove("offday"),"offday"==o?e.classList.add("offday"):"halfday"==o&&e.classList.add("halfday"),e.textContent=r)}i.querySelectorAll("div").forEach(function(e){e.addEventListener("click",o)})}()}]);