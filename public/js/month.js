!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([,function(e,t,n){e.exports=n(4)},,,function(e,t,n){"use strict";n.r(t);!function(){var e=window.users,t=[],n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t.push("u"+l.id)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}for(var a=[],c=0;c<t.length;c++){var d=t[c];a.push(Array.from(document.querySelectorAll("td."+d)))}var u,f=!1,y=".user:hover {outline:2px solid cornflowerblue;}";var h,p=!1;function v(t){f?document.styleSheets[3].deleteRule(u):u=document.styleSheets[3].insertRule(y,document.styleSheets[3].cssRules.length),f=!f;for(var n=0;n<e.length;n++)for(var r=0;r<a[n].length;r++)p?(a[n][r].removeAttribute("style"),a[n][r].innerHTML=e[n][t],a[n][r].removeEventListener("click",g)):(a[n][r].style.width="35px",a[n][r].style.height="35px",a[n][r].style.textAlign="center",a[n][r].style.cursor="pointer",Number(e[n].has_image)?a[n][r].innerHTML='<img src="/img/'.concat(e[n].id,'.jpg" alt="').concat(e[n][t],'"/>'):a[n][r].innerHTML=e[n][t],a[n][r].addEventListener("click",g));p=!p}function g(){var e=this.classList[0],t=document.querySelector("div.".concat(e));if(h==t)return h=0,t.style.width="0px",void setTimeout(function(){t.removeAttribute("style")},690);h||(h=t),h.removeAttribute("style"),h=t;var n=this.getBoundingClientRect();console.log(n),t.style.display="block",t.style.top=n.top+window.scrollY-2+"px",t.style.left=n.left+35+"px",setTimeout(function(){t.style.width="190px"},1)}window.innerWidth<880&&v("short_name"),window.addEventListener("resize",function(){window.innerWidth<880&&!p?v("short_name"):window.innerWidth>=880&&p&&v("name")})}(),function(){var e;function t(t){if(e||(e=this),this.classList.contains("clicked"))return this.classList.remove("clicked"),void(i.style.display="none");e.classList.remove("clicked"),e=this,this.classList.add("clicked"),i.style.display="flex";var n=this.parentNode.parentNode.getBoundingClientRect(),r=this.getBoundingClientRect().x,o=this.getBoundingClientRect().y,s=this.getBoundingClientRect().width,l=i.getBoundingClientRect().height,a=i.getBoundingClientRect().width,c=window.innerWidth,d=r-a/2+s/2,u=o-l-20+window.scrollY;i.style.left=d+a>c?n.left+n.width-a+"px":d<0?n.left+"px":d+"px",i.style.top=u+"px"}document.querySelectorAll(".day.current, .day.not-current").forEach(function(e){e.addEventListener("click",t)});var n,r,i=document.querySelector("#selector");function o(){if(n=this,"customday"===this.getAttribute("data-relation")){if(null===(r=prompt("Custom status:").replace(/\s/g,"").slice(0,3))||""===r)return}else r="objday"===this.getAttribute("data-relation")?"ОБ":"illday"===this.getAttribute("data-relation")?"Б":"";var t=new XMLHttpRequest;t.onload=s;var i=new RegExp("[\\d]+","gi"),o=e.id.match(i),l=o[0],a=o[1];t.open("POST","/months",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("X-CSRF-TOKEN",window.csrf_token),t.send("user_id=".concat(l,"&day_id=").concat(a,"&relation_type=").concat(this.getAttribute("data-relation"),"&payload=").concat(r))}function s(){var t;i.style.display="none",e.classList.remove("clicked");try{t=JSON.parse(this.responseText)[0]}catch(e){return console.error(e),void console.error(this.responseText)}var o=n.getAttribute("data-relation");1==t&&(e.classList.remove("halfday"),e.classList.remove("offday"),"offday"==o?e.classList.add("offday"):"halfday"==o&&e.classList.add("halfday"),e.textContent=r)}i.querySelectorAll("div").forEach(function(e){e.addEventListener("click",o)})}()}]);